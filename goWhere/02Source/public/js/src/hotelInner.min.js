$(function(){nstSlider(),$(".min-price").change(function(){var e=parseInt($(".min-price").val()),a=parseInt($(".max-price").val());e>a&&(e=0,$(".min-price").val(0)),readerPriceBar(e,a),nstSlider()}),$(".max-price").change(function(){var e=parseInt($(".min-price").val()),a=parseInt($(".max-price").val());e>a&&($(".max-price").val(1650),a=1650),readerPriceBar(e,a),nstSlider()}),$(".condition-star-item i").click(function(){$(this).addClass("hide").siblings("i").removeClass("hide")}),$("#dateStart").datepicker({defaultDate:"+1w",dateFormat:"yy-mm-dd",minDate:0,numberOfMonths:2,showMonthAfterYear:!0,showOtherMonths:!0,onClose:function(e){$("#dateEnd").datepicker("option","minDate",e)}}),$("#dateEnd").datepicker({defaultDate:"+1w",dateFormat:"yy-mm-dd",minDate:0,numberOfMonths:2,showMonthAfterYear:!0,showOtherMonths:!0,onClose:function(e){$("#dateStart").datepicker("option","maxDate",e)}}),$(".j-select-child").change(function(){var e,a=parseInt($(this).val()),i=$(".childs-age-pop"),t=$(".full-shade"),r=$(".childs-age-warp"),n=$(".childs-age-item");if(0===a)i.addClass("hide"),t.addClass("hide");else{if(e=n.length,e>a)for(var l=0;e-a>l;l++)n.eq(a+l).remove();else for(var s=0;a-e>s;s++)r.append(n.eq(0).clone());t.removeClass("hide"),i.removeClass("hide")}}),$(".ca-ok").click(function(){var e=new Array;$(".childs-age-pop").addClass("hide"),$(".full-shade").addClass("hide"),$(".childs-age-item").each(function(){e.push($(this).val())}),$(".child-ages-array").val(e)}),$(".del-hotel-history").click(function(){$(this).closest(".hotel-search-result-history-li").remove()})});var nstSlider=function(){$(".nstSlider").nstSlider({crossable_handles:!1,left_grip_selector:".leftGrip",right_grip_selector:".rightGrip",value_bar_selector:".bar",value_changed_callback:function(e,a,i){$(this).parent().find(".leftLabel").text("￥"+a),$(".min-price").val(a),$(this).parent().find(".rightLabel").text("￥"+i),$(".max-price").val(i)}})},readerPriceBar=function(e,a){var i=$("#nstSlider-bar-tpl").html(),t=juicer(i,{minPrice:e,maxPrice:a});$(".nstSlider-bar").html(t)};