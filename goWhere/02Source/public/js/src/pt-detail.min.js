!function(){$(".pt-order-time").change(function(){var a=$(".pt-order-time option:selected");t(a)}),$(".pt-num .minus").click(function(){var t=$(this),e=parseInt(t.siblings(".num").attr("data-num"));if(0===e)return!1;if(e-=1,t.siblings(".num").attr("data-num",e).text(e),"adult"===t.siblings(".num").attr("data-type")){var n=parseInt($(".num[data-type='child']").attr("data-num"));a(e,n)}else{var r=parseInt($(".num[data-type='adult']").attr("data-num"));a(r,e)}}),$(".pt-num .add").click(function(){var t=$(this),e=parseInt(t.siblings(".num").attr("data-num"));if(e+=1,t.siblings(".num").attr("data-num",e).text(e),"adult"===t.siblings(".num").attr("data-type")){var n=parseInt($(".num[data-type='child']").attr("data-num"));a(e,n)}else{var r=parseInt($(".num[data-type='adult']").attr("data-num"));a(r,e)}}),$(document).on("click",".cal_link",function(){var a=$(this).attr("data-begin");$(".pt-order-time option").each(function(){var e=$(this),n=e.val();a===n&&(e.attr("selected",!0).siblings("option").attr("selected",!1),$(".pt-order-time").val(e.val()),t(e))})});var t=function(t){var e=t.attr("data-begin"),n=t.attr("data-end"),r=parseInt($(".num[data-type='adult']").attr("data-num")),i=parseInt($(".num[data-type='child']").attr("data-num")),d=t.attr("data-ap"),s=t.attr("data-cp");$(".pt-begin .time").text(e),$(".pt-end .time").text(n),$(".pt-adult").text(d),$(".pt-child").text(s),a(r,i)},a=function(t,a){var e=$(".pt-order-time option:selected"),n=e.attr("data-ap"),r=e.attr("data-cp");$(".pt-order-price span").text(parseFloat((n*t+r*a).toFixed(2)))},e=$("#route"),n=e.offset().top,r=e.height()+n;$(document).on("click",".route-date li",function(){var t=$(this),a="#"+t.attr("data-id");t.addClass("cur").siblings("li").removeClass("cur"),$("html,body").animate({scrollTop:$(a).offset().top},500)}),$(window).scroll(function(){var t=$(window).scrollTop();t>n+250&&r-150>t?($(".route-date li").each(function(){var a=$(this),e="#"+a.attr("data-id");t>$(e).offset().top-150&&t<$(e).offset().top+$(e).height()&&a.addClass("cur").siblings("li").removeClass("cur")}),$(".route-date").addClass("route-fixed"),$(".route-date-contain").addClass("ml160")):($(".route-date").removeClass("route-fixed"),$(".route-date-contain").removeClass("ml160"))})}();