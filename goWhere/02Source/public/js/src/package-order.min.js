!function(){$(".pt-order-time").change(function(){var a=$(".pt-order-time option:selected"),e=a.attr("data-begin"),n=a.attr("data-end"),s=a.attr("data-ap"),i=a.attr("data-cp"),r=parseInt($(".num[data-type='adult']").attr("data-num")),d=parseInt($(".num[data-type='child']").attr("data-num"));$(".pt-begin .time").text(e),$(".pt-end .time").text(n),$(".j-ap").text(s),$(".j-cp").text(i),t(r,d)}),$(".pt-num .minus").click(function(){var a=$(this),e=parseInt(a.siblings(".num").attr("data-num"));if(0===e)return!1;if(e-=1,a.siblings(".num").attr("data-num",e).text(e).siblings("input").val(e),"adult"===a.siblings(".num").attr("data-type")){var n=parseInt($(".num[data-type='child']").attr("data-num"));$(".j-adult-num").text(e),$(".j-total-num").text(e+n),t(e,n),$(".adultPassengerMsg-warp").find(".adultPassengerMsg:last-child").remove()}else{var s=parseInt($(".num[data-type='adult']").attr("data-num"));$(".j-child-num").text(e),$(".j-total-num").text(e+s),t(s,e),$(".childPassengerMsg-warp").find(".childPassengerMsg:last-child").remove()}}),$(".pt-num .add").click(function(){var a=$(this),e=parseInt(a.siblings(".num").attr("data-num")),n=$(".adultPassengerMsg.hide").clone(),s=$(".childPassengerMsg.hide").clone();if(e+=1,a.siblings(".num").attr("data-num",e).text(e).siblings("input").val(e),"adult"===a.siblings(".num").attr("data-type")){var i=parseInt($(".num[data-type='child']").attr("data-num"));$(".j-adult-num").text(e),$(".j-total-num").text(e+i),t(e,i),$(".adultPassengerMsg-warp").append(n).find(".adultPassengerMsg").removeClass("hide")}else{var r=parseInt($(".num[data-type='adult']").attr("data-num"));$(".j-child-num").text(e),$(".j-total-num").text(e+r),t(r,e),$(".childPassengerMsg-warp").append(s).find(".childPassengerMsg").removeClass("hide")}}),$(document).on("click",".insurance-msg .checkbox",function(){var a=[],e=$(this),n=parseInt($(".num[data-type='adult']").attr("data-num")),s=parseInt($(".num[data-type='child']").attr("data-num"));e.toggleClass("cur"),$(".insurance-msg .checkbox").each(function(){var t=$(this),e=t.attr("data-val");t.hasClass("cur")?(a.push(e),$(".pvi-insurance").each(function(){var t=$(this);t.attr("data-type")===e&&t.removeClass("hide")})):$(".pvi-insurance").each(function(){var t=$(this);t.attr("data-type")===e&&t.addClass("hide")})}),e.closest(".insurance-msg").siblings(".hide").val(a),t(n,s)});var t=function(t,a){var e=$(".pt-order-time option:selected"),n=e.attr("data-ap"),s=e.attr("data-cp"),i=0;$(".insurance-msg .checkbox").each(function(){var t=$(this),a=parseFloat(t.attr("data-price"));t.hasClass("cur")&&(i+=a)}),$(".j-total-price").text(parseFloat((n*t+s*a+i*(t+a)).toFixed(2)))};$(document).on("click",".radio",function(){var t=$(this),a=t.attr("data-val"),e=t.attr("data-type");t.addClass("cur").closest(".radio-warp").siblings(".radio-warp").find(".radio").removeClass("cur"),t.closest(".radio-warp").siblings(".hide").val(a),"need-invoice"===e?$(".invoice").removeClass("hide"):"noNeed-invoice"===e&&$(".invoice").addClass("hide")}),$(".other-relevant-option").click(function(){var t=$(this),a=t.attr("data-val");return t.hasClass("other-relevant-option-cur")?!1:void("hotel"===a?(t.addClass("other-relevant-option-cur").siblings().removeClass("other-relevant-option-cur"),$(".hotel-relevant").removeClass("hide").siblings("ul").addClass("hide")):"tour"===a&&(t.addClass("other-relevant-option-cur").siblings().removeClass("other-relevant-option-cur"),$(".tour-relevant").removeClass("hide").siblings("ul").addClass("hide")))})}();