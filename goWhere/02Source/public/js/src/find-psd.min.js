!function(){$(document).on("blur","form .form-group input",function(){s($(this))}),$(".get-captcha").click(function(){var s=$(this),t=s.attr("src");s.attr("src",t+parseInt(10*Math.random()))}),$(".find-psd").click(function(){var t=$(this),a=1;t.closest("form").find("input").each(function(){var t=$(this);"_token"===t.attr("name")||t.hasClass("no-valid")||(s($(this)),$(this).hasClass("has-error")&&(a=0))}),a&&$(this).closest("form").submit()}),$(".get-phone-code").click(function(){var s=$(this),t=$("input[name='phone']").val(),a=$("input[name='captcha']").val();$.post(owAPI.getNewPhoneSMS,{phone:t,captcha:a},function(t){if(t.error)t.redirect&&(layer.msg(t.msg),$(".phone-step2-captcha").trigger("click").siblings("input").val("").focus());else{var a=t.data.smsInterval;getSMS(s,a)}})});var s=function(s){var t=s,a=t.val(),r=t.attr("datatype"),e=t.attr("errormsg"),i=t.attr("nullmsg");if(""===$.trim(a))t.siblings(".verify-tip").text(i),t.removeClass("has-success").addClass("has-error");else if(regs.dataType[r].test($.trim(a))){if(t.addClass("has-success").removeClass("has-error"),t.siblings(".verify-tip").text(""),"password_confirmation"===t.attr("name")){var n=t.closest("form").find("input[name='password']").val(),o=t.val();n===o?t.siblings(".verify-tip").text(""):t.siblings(".verify-tip").text(t.attr("psdWrong"))}}else t.siblings(".verify-tip").text(e),t.removeClass("has-success").addClass("has-error")}}();